@if (isVisible() && config()) {
  <div
    class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm"
    (click)="onBackdropClick($event)"
  >
    <div
      class="bg-gray-800 rounded-lg shadow-2xl max-w-md w-full mx-4 transform transition-all"
      [@dialogAnimation]
    >
      <!-- Header -->
      <div class="flex items-start p-6 border-b border-gray-700">
        <div [class]="getIconColor() + ' rounded-full w-12 h-12 flex items-center justify-center text-2xl font-bold mr-4 flex-shrink-0'">
          {{ getIcon() }}
        </div>
        <div class="flex-1">
          <h3 class="text-xl font-semibold text-white">{{ config()!.title }}</h3>
        </div>
      </div>

      <!-- Body -->
      <div class="p-6">
        <p class="text-gray-300 whitespace-pre-line">{{ config()!.message }}</p>
      </div>

      <!-- Footer -->
      <div class="flex justify-end gap-3 p-6 border-t border-gray-700">
        @if (config()!.showCancel) {
          <button
            (click)="onCancel()"
            class="px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors duration-200"
          >
            {{ config()!.cancelText }}
          </button>
        }
        <button
          (click)="onConfirm()"
          [class]="'px-6 py-2 rounded-lg font-medium transition-colors duration-200 ' +
            (config()!.type === 'error' ? 'bg-red-600 hover:bg-red-700' :
             config()!.type === 'success' ? 'bg-green-600 hover:bg-green-700' :
             config()!.type === 'warning' ? 'bg-yellow-600 hover:bg-yellow-700' :
             'bg-blue-600 hover:bg-blue-700') + ' text-white'"
        >
          {{ config()!.confirmText }}
        </button>
      </div>
    </div>
  </div>
}
